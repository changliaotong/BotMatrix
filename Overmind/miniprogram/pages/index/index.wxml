<!-- é¦–é¡µ - ä»ªè¡¨æ¿ -->
<view class="container">
  <!-- ç³»ç»ŸçŠ¶æ€ç»Ÿè®¡å¡ç‰‡ -->
  <view class="stats-card fade-in">
    <view class="stats-item">
      <view class="stats-value">{{systemStats.onlineBots || 0}}</view>
      <view class="stats-label">åœ¨çº¿æœºå™¨äºº</view>
    </view>
    <view class="stats-item">
      <view class="stats-value">{{systemStats.totalGroups || 0}}</view>
      <view class="stats-label">ç®¡ç†ç¾¤ç»„</view>
    </view>
    <view class="stats-item">
      <view class="stats-value">{{systemStats.totalMessages || 0}}</view>
      <view class="stats-label">æ¶ˆæ¯æ€»æ•°</view>
    </view>
  </view>

  <!-- ç³»ç»ŸçŠ¶æ€ç›‘æ§ -->
  <view class="card fade-in">
    <view class="card-header">
      <view class="card-title">ç³»ç»ŸçŠ¶æ€</view>
      <view class="status-indicator {{systemStatus.online ? 'status-online' : 'status-offline'}}">
        {{systemStatus.online ? 'åœ¨çº¿' : 'ç¦»çº¿'}}
      </view>
    </view>
    <view class="card-content">
      <view class="list-item">
        <view class="list-item-content">
          <view class="list-item-title">CPUä½¿ç”¨ç‡</view>
          <view class="list-item-desc">{{systemStatus.cpuPercent}}%</view>
        </view>
        <view class="progress-bar" style="width: 200rpx;">
          <view class="progress-fill" style="width: {{systemStatus.cpuPercent}}%;"></view>
        </view>
      </view>
      
      <view class="list-item">
        <view class="list-item-content">
          <view class="list-item-title">å†…å­˜ä½¿ç”¨ç‡</view>
          <view class="list-item-desc">{{systemStatus.memoryPercent}}%</view>
        </view>
        <view class="progress-bar" style="width: 200rpx;">
          <view class="progress-fill" style="width: {{systemStatus.memoryPercent}}%;"></view>
        </view>
      </view>

      <view class="list-item">
        <view class="list-item-content">
          <view class="list-item-title">è¿è¡Œæ—¶é—´</view>
          <view class="list-item-desc">{{systemStatus.uptime}}</view>
        </view>
      </view>
    </view>
  </view>

  <!-- å¼‚å¸¸å‘Šè­¦ -->
  <view class="card fade-in" wx:if="{{alerts.length > 0}}">
    <view class="card-header">
      <view class="card-title">å¼‚å¸¸å‘Šè­¦</view>
      <view class="status-indicator status-warning">
        {{alerts.length}} æ¡
      </view>
    </view>
    <view class="card-content">
      <block wx:for="{{alerts}}" wx:key="id">
        <view class="list-item">
          <view class="list-item-content">
            <view class="list-item-title">{{item.title}}</view>
            <view class="list-item-desc">{{item.message}}</view>
          </view>
          <view class="list-item-action">
            <text class="time">{{item.time}}</text>
          </view>
        </view>
      </block>
    </view>
  </view>

  <!-- å¿«é€Ÿæ“ä½œ -->
  <view class="card fade-in">
    <view class="card-header">
      <view class="card-title">å¿«é€Ÿæ“ä½œ</view>
    </view>
    <view class="card-content">
      <view class="grid">
        <view class="grid-item" bindtap="refreshStatus">
          <view class="grid-content">
            <text class="grid-icon">ğŸ”„</text>
            <view class="grid-title">åˆ·æ–°çŠ¶æ€</view>
            <view class="grid-desc">æ›´æ–°ç³»ç»ŸçŠ¶æ€</view>
          </view>
        </view>
        
        <view class="grid-item" bindtap="toggleAllBots" data-enable="{{true}}">
          <view class="grid-content">
            <text class="grid-icon">â–¶ï¸</text>
            <view class="grid-title">å¯åŠ¨å…¨éƒ¨</view>
            <view class="grid-desc">å¯åŠ¨æ‰€æœ‰æœºå™¨äºº</view>
          </view>
        </view>
        
        <view class="grid-item" bindtap="toggleAllBots" data-enable="{{false}}">
          <view class="grid-content">
            <text class="grid-icon">â¹ï¸</text>
            <view class="grid-title">åœæ­¢å…¨éƒ¨</view>
            <view class="grid-desc">åœæ­¢æ‰€æœ‰æœºå™¨äºº</view>
          </view>
        </view>
        
        <view class="grid-item" bindtap="navigateToLogs">
          <view class="grid-content">
            <text class="grid-icon">ğŸ“‹</text>
            <view class="grid-title">æŸ¥çœ‹æ—¥å¿—</view>
            <view class="grid-desc">ç³»ç»Ÿè¿è¡Œæ—¥å¿—</view>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty" wx:if="{{!isLoaded}}">
    <text class="empty-image">â³</text>
    <view class="empty-text">æ­£åœ¨åŠ è½½æ•°æ®...</view>
  </view>

  <!-- é”™è¯¯çŠ¶æ€ -->
  <view class="error" wx:if="{{loadError}}">
    <text class="empty-image">âŒ</text>
    <view class="error-text">{{loadError}}</view>
    <button class="btn btn-primary btn-small" bindtap="refreshStatus">é‡æ–°åŠ è½½</button>
  </view>
</view>