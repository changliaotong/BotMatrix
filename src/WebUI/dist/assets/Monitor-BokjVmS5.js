import{c as x,d as D,u as $,a as A,r as U,I as L,o as N,E as V,J as m,K as F,O as H,C as I,e as b,f as t,g as R,h as u,Q as T,V as j,t as a,F as f,k,l as z,A as y,m as q,j as w,i as r,W as P,N as E,X as O,n as K,q as p}from"./index-BWDwowKp.js";/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=x("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=x("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=x("hard-drive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=x("list-restart",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M7 12H3",key:"13ou7f"}],["path",{d:"M7 19H3",key:"wbqt3n"}],["path",{d:"M12 18a5 5 0 0 0 9-3 4.5 4.5 0 0 0-4.5-4.5c-1.33 0-2.54.54-3.41 1.41L11 14",key:"qth677"}],["path",{d:"M11 10v4h4",key:"172dkj"}]]),X={class:"p-6 space-y-6"},Y={class:"flex items-center justify-between"},Z={class:"flex items-center gap-4"},tt={class:"text-2xl font-black text-[var(--text-main)] tracking-tight"},et={class:"flex gap-2"},st=["onClick"],ot={key:0,class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},at={class:"lg:col-span-2 space-y-6"},rt={class:"p-8 rounded-3xl bg-[var(--bg-card)] border border-[var(--border-color)] space-y-8"},lt={class:"flex items-start justify-between"},ct={class:"flex items-center gap-4"},nt={class:"p-4 rounded-2xl bg-black/5 dark:bg-white/5 border border-[var(--border-color)]"},dt={class:"text-sm font-bold text-[var(--text-muted)] uppercase tracking-widest"},it={class:"flex items-baseline gap-2"},ut={class:"text-5xl font-black text-[var(--text-main)] tracking-tight"},pt={class:"text-lg font-bold text-[var(--text-muted)]"},bt={class:"flex flex-col items-end gap-2"},vt={class:"flex items-center gap-2 px-3 py-1 rounded-full bg-green-500/10 text-green-500 text-xs font-bold"},xt={class:"h-[400px] w-full"},_t={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},ht={class:"p-6 rounded-3xl bg-[var(--bg-card)] border border-[var(--border-color)] space-y-4"},gt={class:"flex items-center gap-3"},mt={class:"font-bold uppercase tracking-widest text-sm"},ft={class:"grid grid-cols-2 gap-4"},kt={class:"p-4 rounded-2xl bg-black/5 dark:bg-white/5 border border-[var(--border-color)]"},yt={class:"font-black text-[var(--text-main)]"},wt={class:"p-4 rounded-2xl bg-black/5 dark:bg-white/5 border border-[var(--border-color)]"},Mt={class:"font-black text-[var(--text-main)]"},St={class:"p-6 rounded-3xl bg-[var(--bg-card)] border border-[var(--border-color)] space-y-4"},Ct={class:"flex items-center gap-3"},Bt={class:"font-bold uppercase tracking-widest text-sm"},Dt={class:"space-y-4"},$t={class:"flex items-center justify-between"},At={class:"text-xs font-bold text-[var(--text-muted)]"},Ut={class:"w-full h-2 bg-black/10 dark:bg-white/10 rounded-full overflow-hidden"},Lt={class:"space-y-6"},Nt={class:"p-6 rounded-3xl bg-[var(--bg-card)] border border-[var(--border-color)] space-y-6"},Vt={class:"font-bold uppercase tracking-widest text-sm flex items-center gap-2"},Ft={class:"space-y-4"},Ht={class:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-widest"},It={class:"text-sm font-bold text-[var(--text-main)] break-all"},zt=D({__name:"Monitor",setup(Rt){const M=L(),S=$(),o=A(),d=s=>S.t(s),_=U(M.query.type||"cpu");let h=null;N(async()=>{await o.fetchStats(),h=window.setInterval(async()=>{await o.fetchStats()},3e3)}),V(()=>{h&&clearInterval(h)});const l=m(()=>{var e,i;const s=o.stats;switch(_.value){case"cpu":return{title:d("cpu_usage"),value:((e=s.cpu_usage)==null?void 0:e.toFixed(1))||"0",unit:"%",trend:s.cpu_trend||[],color:"#3b82f6",icon:I};case"memory":return{title:d("memory_usage"),value:((i=s.memory_used_percent)==null?void 0:i.toFixed(1))||"0",unit:"%",trend:(s.mem_trend||[]).map(c=>c/(s.memory_total||1)*100),color:"#a855f7",icon:H};case"throughput":return{title:d("throughput"),value:s.message_count||"0",unit:d("unit_msg"),trend:s.msg_trend||[],color:"#00ff41",icon:F};default:return null}}),C=m(()=>[{label:"OS",value:`${o.stats.os_platform} ${o.stats.os_version}`},{label:"Arch",value:o.stats.os_arch},{label:"CPU",value:o.stats.cpu_model},{label:"Cores",value:`${o.stats.cpu_cores_physical} Physical / ${o.stats.cpu_cores_logical} Logical`},{label:"Uptime",value:B(o.stats.start_time)}]),B=s=>{if(!s)return"-";const e=Math.floor(Date.now()/1e3-s),i=Math.floor(e/(3600*24)),c=Math.floor(e%(3600*24)/3600),v=Math.floor(e%3600/60);return`${i}d ${c}h ${v}m`},g=s=>{if(!s)return"0 B";const e=1024,i=["B","KB","MB","GB","TB"],c=Math.floor(Math.log(s)/Math.log(e));return parseFloat((s/Math.pow(e,c)).toFixed(2))+" "+i[c]};return(s,e)=>{var c,v;const i=j("router-link");return p(),b("div",X,[t("div",Y,[t("div",Z,[u(i,{to:"/",class:"p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-colors border border-[var(--border-color)]"},{default:T(()=>[u(r(J),{class:"w-6 h-6"})]),_:1}),t("h1",tt,a(d("monitor_detail")),1)]),t("div",et,[(p(),b(f,null,k(["cpu","memory","throughput"],n=>t("button",{key:n,onClick:Tt=>_.value=n,class:K(["px-4 py-2 rounded-xl text-sm font-bold transition-all border",_.value===n?"bg-[var(--matrix-color)] text-black border-transparent":"bg-[var(--bg-card)] text-[var(--text-muted)] border-[var(--border-color)] hover:border-[var(--matrix-color)]/30"])},a(d(n==="cpu"?"cpu_usage":n==="memory"?"memory_usage":"throughput")),11,st)),64))])]),l.value?(p(),b("div",ot,[t("div",at,[t("div",rt,[t("div",lt,[t("div",ct,[t("div",nt,[(p(),z(q(l.value.icon),{class:"w-8 h-8",style:y({color:l.value.color})},null,8,["style"]))]),t("div",null,[t("p",dt,a(l.value.title),1),t("div",it,[t("h2",ut,a(l.value.value),1),t("span",pt,a(l.value.unit),1)])])]),t("div",bt,[t("div",vt,[u(r(G),{class:"w-4 h-4"}),e[0]||(e[0]=w(" 12% ",-1))]),e[1]||(e[1]=t("p",{class:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-widest"},"VS LAST HOUR",-1))])]),t("div",xt,[u(P,{data:l.value.trend,color:l.value.color,labels:new Array(l.value.trend.length).fill("")},null,8,["data","color","labels"])])]),t("div",_t,[t("div",ht,[t("div",gt,[u(r(E),{class:"w-5 h-5 text-blue-500"}),t("h3",mt,a(d("network_traffic")),1)]),t("div",ft,[t("div",kt,[e[2]||(e[2]=t("p",{class:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-widest mb-1"},"Upload",-1)),t("p",yt,a(g(((c=r(o).stats.net_sent_trend)==null?void 0:c[r(o).stats.net_sent_trend.length-1])||0))+"/s",1)]),t("div",wt,[e[3]||(e[3]=t("p",{class:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-widest mb-1"},"Download",-1)),t("p",Mt,a(g(((v=r(o).stats.net_recv_trend)==null?void 0:v[r(o).stats.net_recv_trend.length-1])||0))+"/s",1)])])]),t("div",St,[t("div",Ct,[u(r(Q),{class:"w-5 h-5 text-orange-500"}),t("h3",Bt,a(d("disk_status")),1)]),t("div",Dt,[t("div",$t,[e[4]||(e[4]=t("p",{class:"text-xs font-bold text-[var(--text-main)]"},"System Disk",-1)),t("p",At,a(r(o).stats.disk_usage),1)]),t("div",Ut,[t("div",{class:"h-full bg-orange-500",style:y({width:r(o).stats.disk_usage})},null,4)])])])])]),t("div",Lt,[t("div",Nt,[t("h3",Vt,[u(r(W),{class:"w-5 h-5 text-[var(--matrix-color)]"}),e[5]||(e[5]=w(" System Info ",-1))]),t("div",Ft,[(p(!0),b(f,null,k(C.value,n=>(p(),b("div",{key:n.label,class:"flex flex-col gap-1 p-3 rounded-2xl bg-black/5 dark:bg-white/5 border border-[var(--border-color)]"},[t("p",Ht,a(n.label),1),t("p",It,a(n.value),1)]))),128))])]),e[6]||(e[6]=O('<div class="p-6 rounded-3xl bg-[var(--matrix-color)] text-black space-y-4"><h3 class="font-black uppercase tracking-widest text-sm">System Control</h3><p class="text-xs font-bold opacity-70">Perform critical system operations from this terminal.</p><div class="grid grid-cols-2 gap-3"><button class="px-4 py-3 rounded-2xl bg-black text-white text-xs font-black hover:opacity-80 transition-opacity">RESTART</button><button class="px-4 py-3 rounded-2xl bg-black/20 text-black text-xs font-black hover:bg-black/30 transition-colors">DUMP</button></div></div>',1))])])):R("",!0)])}}});export{zt as default};
