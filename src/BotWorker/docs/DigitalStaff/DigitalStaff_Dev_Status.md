# 数字员工开发进度与目标规范

## 1. 当前状态 (Go 迁移进度)

| 功能模块 | 状态 | 描述 |
| :--- | :--- | :--- |
| **基础模型迁移** | ✅ 已完成 | `DigitalStaff`, `CognitiveMemory`, `StaffKpi`, `StaffTask` 实体已迁移。 |
| **AI 服务注入** | ✅ 已完成 | `IRobot` 已扩展 `AI` 属性，`DigitalStaffService` 可直接调用。 |
| **认知记忆固化** | ✅ 已完成 | 实现 AI 提炼记忆逻辑，支持事务性替换。 |
| **自动进化逻辑** | ✅ 已完成 | 实现基于 KPI 的提示词重写逻辑。 |
| **开发任务执行** | ✅ 已完成 | 对接真实 LLM 生成技术方案。 |
| **销售任务执行** | ✅ 已完成 | 对接真实 LLM 生成营销文案并计算虚拟收益。 |
| **B2B 协作 (Skills)** | 🏗️ 进行中 | 已初步实现 `CallSkillAsync` 协作框架。 |

## 2. 下一阶段目标 (本周)

### 2.1 强化技能调用 (Skill Orchestration)
- [ ] **目标**：让 AI 在 `ExecuteDevTaskAsync` 中主动决定调用哪些 Skill，而不仅仅是硬编码检查。
- [ ] **规范**：在 Prompt 中注入当前可用的技能列表。

### 2.2 KPI 自动评分机制
- [ ] **目标**：目前 KPI 是手动或模拟记录，需要实现一个 AI 评审员（AI Auditor），自动对任务结果打分。

### 2.3 记忆检索优化
- [ ] **目标**：在执行任务前，AI 自动检索相关的“认知记忆”作为上下文补充（RAG 模式）。

## 3. 规范与约束 (防止走偏)

- **核心原则**：代码只写“流程”，能力交给“AI”。
- **严禁事项**：
  - 严禁在 C# 中写死具体的行业业务逻辑。
  - 严禁绕过 `DigitalStaff.SystemPrompt` 直接在代码中拼接业务 Prompt。
- **验收标准**：
  - 即使不改一行 C# 代码，仅通过修改数据库中的 `SystemPrompt`，就能改变员工的工作表现。
