# 新版钓鱼系统 (V2.0.0) 技术文档

## 1. 概述
新版钓鱼系统彻底废弃了旧版简单的随机逻辑，引入了拟真垂钓流程、多场景探索、装备成长体系以及完整的插件内循环经济系统。

## 2. 核心机制

### 2.1 垂钓流程
1. **抛竿 (`CastAsync`)**：用户在当前场景抛竿，进入“钓鱼中”状态，随机等待 1-3 分钟。
2. **收竿 (`ReelInAsync`)**：
   - **判定**：若等待时间未到，鱼会惊走。
   - **承重检查**：每种鱼有随机重量，若超过鱼竿最大承重（`RodLevel * 10kg`），则断线并损坏机会。
   - **奖励**：成功捕获后根据鱼的品质发放经验值，并将鱼存入“鱼篓”。

### 2.2 品质稀有度
| 品质 | 等级 | 经验奖励 | 颜色标识 |
| :--- | :--- | :--- | :--- |
| 普通 (Common) | 0 | 5 | 无 |
| 稀有 (Rare) | 1 | 15 | ⭐ |
| 史诗 (Epic) | 2 | 25 | ⭐⭐ |
| 传说 (Legendary) | 3 | 35 | ⭐⭐⭐ |

### 2.3 场景定义
- **淡水湖** (Lv.1+)：基础鱼种，适合新手。
- **近海** (Lv.5+)：解锁更高价值鱼种。
- **深海** (Lv.15+)：掉落史诗与传说级巨物（如克苏鲁之眼）。

## 3. 经济与成长体系
- **鱼篓系统**：记录捕获详情，支持一键“卖鱼”换取金币。
- **商店系统**：使用金币升级鱼竿，每升一级提升 10kg 承重上限。
- **等级系统**：通过垂钓积累经验，未来将解锁更多高级场景。

## 4. 数据模型
- `FishingUser`：存储玩家等级、经验、金币、鱼竿等级、当前状态及位置。
- `FishingBag`：记录玩家捕获的鱼种、重量、估值及捕获时间。

## 5. 指令表
| 指令 | 说明 |
| :--- | :--- |
| `钓鱼` / `钓鱼状态` | 查看个人执照信息、等级、金币及当前状态 |
| `抛竿` | 在当前场景开始钓鱼 |
| `收竿` | 检查是否有收获 |
| `鱼篓` | 查看最近捕获的 10 条鱼及总价值 |
| `卖鱼` | 清空鱼篓并获得金币 |
| `钓鱼商店` | 查看可购买的升级项 |
| `升级鱼竿` | 消耗金币提升承重能力 |

---
**版本信息**
- **版本号**: 2.0.0
- **开发者**: Matrix
- **最后更新**: 2026-01-09
