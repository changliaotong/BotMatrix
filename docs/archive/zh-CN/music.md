# 超级点歌系统 (Music Plugin)

独立点歌系统，支持全网搜歌、送歌传情以及点歌记录查询。

## 功能特性

- **全网搜歌**：集成高质量音乐接口，支持关键词快速搜索。
- **送歌传情**：支持在群聊或私聊中通过 `@提及` 送歌给好友，并附带温馨寄语。
- **历史记录**：随时查询自己的送歌和收歌历史，回忆美好时刻。
- **独立运行**：基于插件化架构，与机器人核心解耦，支持热加载。

## 指令说明

| 指令 | 格式 | 说明 |
| :--- | :--- | :--- |
| **点歌** | `点歌 <歌名>` | 搜索并播放指定的歌曲 |
| **送歌** | `送歌 @用户 <歌名> [寄语]` | 送一首歌给指定好友 |
| **点歌历史** | `点歌历史` | 查看最近 10 条点歌/收歌记录 |

## 使用示例

### 1. 独自欣赏
> 用户：点歌 晴天
> 机器人：🎵 正在为你播放：晴天 - 周杰伦 [播放卡片]

### 2. 送歌传情
> 用户：送歌 @小明 告白气球 生日快乐！
> 机器人：🎁 送歌成功！来自 Matrix 的礼物已送达给 小明。
> 机器人（对小明）：🎵 告白气球 - 周杰伦 [播放卡片]
> 机器人（对小明）：💬 寄语：生日快乐！

### 3. 查看历史
> 用户：点歌历史
> 机器人：📜 【点歌历史】
> ━━━━━━━━━━━━━━
> 01-09 10:30 📤 送出 小明
>    🎵 告白气球 - 周杰伦
> 01-08 22:15 📥 收到 小红
>    🎵 简单爱 - 周杰伦
> ━━━━━━━━━━━━━━

## 安装说明

该插件位于 `BotWorker.Modules.Games` 命名空间下，默认已集成。如需手动安装，请确保 `plugin.json` 已正确配置。

## 数据存储

插件使用 `UserSongOrders` 表存储点歌记录，包含以下字段：
- `FromUserId`: 发送者 ID
- `ToUserId`: 接收者 ID
- `SongName`: 歌曲名称
- `Artist`: 歌手
- `Message`: 寄语
- `OrderTime`: 订单时间
