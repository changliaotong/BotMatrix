# 江湖互动游戏插件说明文档

本模块包含了增强群聊活跃度的互动游戏插件：**玄幻修炼系统** 与 **江湖闷砖系统**。

---

## 1. 玄幻修炼系统 (Cultivation System)

### 1.1 系统简介
模拟修仙小说的境界晋升机制。用户通过持续修炼积累灵力，冲击境界瓶颈，最终追求飞升成仙。

### 1.2 核心机制
- **修炼 (Cultivate)**：每 10 分钟可进行一次，获得随机修为。
- **境界 (Stages)**：分为炼气、筑基、金丹、元婴、化神、炼虚、合体、大乘、渡劫、飞升等阶段，每阶 10 层。
- **突破 (Breakthrough)**：修为圆满后需手动突破。突破成功率随境界提升而降低，失败可能导致修为倒退。
- **排行榜**：实时展示修仙界的前十名强者。

### 1.3 指令表
| 指令 | 别名 | 说明 |
| :--- | :--- | :--- |
| `修炼` | `修行` | 吸收灵气，增加修为 |
| `突破` | `晋升` | 冲击更高境界 |
| `境界` | `修为` | 查看个人当前境界、进度及冷却 |
| `修为榜` | `强者榜` | 查看修仙排行榜 |

---

## 2. 江湖闷砖系统 (Brick Slapping System)

### 2.1 系统简介
一个带有风险与收益并存的群聊恶搞插件。用户可以消耗积分购买板砖，偷袭其他群成员。

### 2.2 核心机制
- **闷砖 (Brick)**：消耗 50 积分尝试攻击。
- **成功效果 (65%)**：目标被禁言 1-5 分钟，且被攻击者夺取少量积分。
- **失败效果 (35%)**：攻击无果，且有 40% 概率发生反噬（攻击者自己被禁言并损失积分）。
- **冷却时间**：5 分钟冷却。

### 2.3 指令表
| 指令 | 示例 | 说明 |
| :--- | :--- | :--- |
| `闷砖` | `闷砖 @某人` | 尝试偷袭目标 |
| `砖头榜` | `板砖榜` | 查看拍砖成功的达人榜单 |

---

## 3. 技术实现 (Technical Implementation)

### 3.1 插件架构
- **BrickService**: 实现 [BrickService.cs](file:///d:/projects/BotMatrix/src/BotWorker/Modules/Games/BrickService.cs)
- **CultivationService**: 实现 [CultivationService.cs](file:///d:/projects/BotMatrix/src/BotWorker/Modules/Games/CultivationService.cs)

### 3.2 数据模型 (ORM)
- **BrickRecord**: 记录闷砖历史。
- **CultivationProfile**: 存储用户修仙进度。
- **CultivationRecord**: 记录修仙关键事件。

### 3.3 依赖项
- 依赖于 `UserInfo` 系统处理积分变动。
- 依赖于 `MuteMember` 技能实现群禁言效果。

---
**版本信息**
- **版本号**: 1.0.0
- **开发者**: Matrix
- **更新日期**: 2026-01-10
